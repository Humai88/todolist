{"version":3,"sources":["Features/Todolists/TodolistsList.module.scss","Features/Todolists/Login/Login.module.scss","Components/EditableSpan/EditableSpan.module.scss","Components/ErrorSnackbar/ErrorSnackbar.module.scss","api/todolistsAPI.ts","App/appReducer.tsx","utils/errorUtils.ts","Features/Todolists/Login/authReducer.ts","Features/Todolists/tasksReducer.ts","Features/Todolists/todolistsReducer.ts","App/store.ts","Components/AddItem/AddItem.tsx","Components/EditableSpan/EditableSpan.tsx","Features/Todolists/Todolist/Task/Task.tsx","Features/Todolists/Todolist/Todolist.tsx","Features/Todolists/TodolistsList .tsx","Components/ErrorSnackbar/ErrorSnackbar.tsx","Features/Todolists/Login/Login.tsx","App/App.tsx","index.tsx","Features/Todolists/Todolist/Todolist.module.scss","Components/AddItem/AddItem.module.scss","Features/Todolists/Todolist/Task/Task.module.scss","App/App.module.scss"],"names":["module","exports","TaskStatuses","TaskPriorities","instance","axios","create","baseURL","withCredentials","headers","todolistsAPI","get","title","post","todolistId","delete","put","taskId","model","authAPI","data","initialState","status","error","isInitialized","setAppStatusAC","type","payload","setAppErrorAC","handleServerAppError","dispatch","messages","length","handleServerNetworkError","message","isLoggedIn","setIsLoggedInAC","value","updateTaskThunk","getState","task","tasks","find","t","id","apiModel","startDate","priority","description","deadline","then","res","resultCode","updateTaskAC","catch","v1","rootReducer","combineReducers","state","action","stateCopy","todos","forEach","tl","todoListId","filter","map","entityStatus","todolist","copy","todolists","app","auth","store","createStore","applyMiddleware","thunk","window","AddItem","React","memo","callback","disabled","useState","newTaskTitle","setNewTaskTitle","setError","onClickHandler","trim","className","styles","wrapper","TextField","textField","variant","onChange","e","currentTarget","onKeyPress","key","label","helperText","color","btnAdd","onClick","AddBox","errorMessage","EditableSpan","changeTaskTitle","editMode","setEditMode","setValue","input","autoFocus","newValue","onBlur","onDoubleClick","Task","props","removeTask","checkboxChange","changeTaskTitleHandler","useCallback","Completed","isDone","checked","New","span","trash","Delete","Todolist","changeFilter","addTask","removeTodoList","changeTodoListTitle","useDispatch","onAllClickHandler","onActiveClickHandler","onCompletedClickHandler","addTaskItem","changeTodolistTitleHandler","tasksForTodoList","useEffect","items","setTasksAC","btnsWrapper","btn","deleteBtn","TodolistsList","useSelector","changeFilterAC","addTodolist","item","addTodolistsThunk","updateTodolistTitleAC","updateTodolistTitleThunk","addTaskAC","addTaskThunk","chandeTaskEntityStatusAC","removeTaskAC","Grid","container","addItem","spacing","Paper","elevation","paper","to","Alert","ErrorSnackbar","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","Login","formik","useFormik","initialValues","email","password","rememberMe","validate","values","errors","test","onSubmit","resetForm","justify","xs","handleSubmit","form","FormControl","FormLabel","href","target","FormGroup","margin","getFieldProps","touched","style","FormControlLabel","control","handleChange","name","handleBlur","Button","App","finally","Fragment","AppBar","position","Toolbar","navbar","IconButton","edge","Typography","LinearProgress","progress","Container","maxWidth","exact","path","render","from","top","textAlign","width","CircularProgress","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.829b932c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paper\":\"TodolistsList_paper__2p22s\",\"addItem\":\"TodolistsList_addItem__3-WbB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__1u3KK\",\"btn\":\"Login_btn__J0HQ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"EditableSpan_input__3c1_L\",\"span\":\"EditableSpan_span__1cdp9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"ErrorSnackbar_message__38d7O\"};","import axios from \"axios\";\r\nimport { RequestStatusType } from \"../App/appReducer\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.1/\",\r\n  withCredentials: true,\r\n  headers: {\r\n    \"api-key\": \"b108fd33-d977-4add-bda9-9da2037bdf7a\",\r\n  },\r\n});\r\n\r\n//api\r\nexport const todolistsAPI = {\r\n  //T-dlist api\r\n  getTodolists() {\r\n    return instance.get<TodolistType[]>(`todo-lists`);\r\n  },\r\n  postTodolist(title: string) {\r\n    return instance.post<ResponseType<{ item: TodolistType }>>(`todo-lists`, {\r\n      title,\r\n    });\r\n  },\r\n  deleteTodolist(todolistId: string) {\r\n    return instance.delete<ResponseType>(`todo-lists/${todolistId}`);\r\n  },\r\n  updateTodolist(todolistId: string, title: string) {\r\n    return instance.put<ResponseType>(`todo-lists/${todolistId}`, {\r\n      title,\r\n    });\r\n  },\r\n  //Tasks api\r\n  getTasks(todolistId: string) {\r\n    return instance.get<TaskResponseType>(`todo-lists/${todolistId}/tasks`);\r\n  },\r\n  postTask(todolistId: string, title: string) {\r\n    return instance.post<ResponseType<{ item: TaskType }>>(\r\n      `todo-lists/${todolistId}/tasks`,\r\n      {\r\n        title,\r\n      }\r\n    );\r\n  },\r\n  deleteTask(todolistId: string, taskId: string) {\r\n    return instance.delete<ResponseType>(\r\n      `todo-lists/${todolistId}/tasks/${taskId}`\r\n    );\r\n  },\r\n  updateTask(todolistId: string, taskId: string, model: UpdateTaskType) {\r\n    return instance.put<ResponseType<TaskType>>(\r\n      `todo-lists/${todolistId}/tasks/${taskId}`,\r\n      model\r\n    );\r\n  },\r\n};\r\nexport const authAPI = {\r\n  login(data: LoginParamsType) {\r\n    return instance.post<ResponseType<{ userId: number }>>(`auth/login`, data);\r\n  },\r\n  logout() {\r\n    return instance.delete<ResponseType>(`auth/login`);\r\n  },\r\n  authMe() {\r\n    return instance.get<ResponseType<LoginParamsType>>(`auth/me`);\r\n  },\r\n};\r\n\r\n// Types\r\nexport type LoginParamsType = {\r\n  email: string;\r\n  password: string;\r\n  rememberMe: boolean;\r\n  captcha?: string;\r\n};\r\nexport type TodolistType = {\r\n  id: string;\r\n  addedDate: string;\r\n  order: number;\r\n  title: string;\r\n};\r\nexport type ResponseType<D = {}> = {\r\n  resultCode: number;\r\n  messages: Array<string>;\r\n  data: D;\r\n};\r\nexport enum TaskStatuses {\r\n  New = 0,\r\n  InProgress = 1,\r\n  Completed = 2,\r\n  Draft = 3,\r\n}\r\nexport enum TaskPriorities {\r\n  Low = 0,\r\n  Middle = 1,\r\n  Hi = 2,\r\n  Urgently = 3,\r\n  Later = 4,\r\n}\r\nexport type TaskType = {\r\n  description: string;\r\n  title: string;\r\n  status: TaskStatuses;\r\n  priority: TaskPriorities;\r\n  startDate: string;\r\n  deadline: string;\r\n  id: string;\r\n  todoListId: string;\r\n  order: number;\r\n  addedDate: string;\r\n  entityStatus: RequestStatusType;\r\n};\r\nexport type UpdateTaskType = {\r\n  description: string;\r\n  title: string;\r\n  status: number;\r\n  priority: number;\r\n  startDate: string;\r\n  deadline: string;\r\n};\r\ntype TaskResponseType = {\r\n  items: TaskType[];\r\n  totalCount: number;\r\n  error: string | null;\r\n};\r\n","import { authAPI } from \"../api/todolistsAPI\";\r\nimport { setIsLoggedInAC } from \"../Features/Todolists/Login/authReducer\";\r\nimport { ThunkType } from \"./store\";\r\n\r\nexport type RequestStatusType = \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\r\n\r\nconst initialState = {\r\n  status: \"idle\" as RequestStatusType,\r\n  error: null as null | string,\r\n  isInitialized: false,\r\n};\r\n\r\nexport const appReducer = (\r\n  state: InitialStateType = initialState,\r\n  action: ActionAppTypes\r\n): InitialStateType => {\r\n  switch (action.type) {\r\n    case \"APP/SET-STATUS\":\r\n      return { ...state, status: action.payload.status };\r\n    case \"APP/SET-ERROR\":\r\n      return { ...state, error: action.payload.error };\r\n    case \"APP/SET-INITIALISATION\":\r\n      return { ...state, isInitialized: action.payload.isInitialized };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\n// Actions\r\nexport const setAppStatusAC = (status: RequestStatusType) => {\r\n  return {\r\n    type: \"APP/SET-STATUS\",\r\n    payload: {\r\n      status,\r\n    },\r\n  } as const;\r\n};\r\nexport const setIsInitializedAC = (isInitialized: boolean) => {\r\n  return {\r\n    type: \"APP/SET-INITIALISATION\",\r\n    payload: {\r\n      isInitialized,\r\n    },\r\n  } as const;\r\n};\r\nexport const setAppErrorAC = (error: null | string) => {\r\n  return {\r\n    type: \"APP/SET-ERROR\",\r\n    payload: {\r\n      error,\r\n    },\r\n  } as const;\r\n};\r\n// Thunks\r\nexport const initializeAppThunk = (): ThunkType => (dispatch) => {\r\n  authAPI\r\n    .authMe()\r\n    .then((res) => {\r\n      if (res.data.resultCode === 0) {\r\n        dispatch(setIsLoggedInAC(true));\r\n      }\r\n    })\r\n    .finally(() => {\r\n      dispatch(setIsInitializedAC(true));\r\n    });\r\n};\r\n\r\n// Types\r\nexport type SetAppErrorActionType = ReturnType<typeof setAppErrorAC>;\r\nexport type SetAppStatusActionType = ReturnType<typeof setAppStatusAC>;\r\nexport type SetAppInicialisationType = ReturnType<typeof setIsInitializedAC>;\r\nexport type ActionAppTypes =\r\n  | SetAppErrorActionType\r\n  | SetAppStatusActionType\r\n  | SetAppInicialisationType;\r\nexport type InitialStateType = typeof initialState;\r\n","import {\r\n  setAppErrorAC,\r\n  SetAppErrorActionType,\r\n  setAppStatusAC,\r\n  SetAppStatusActionType,\r\n} from \"./../App/appReducer\";\r\nimport { Dispatch } from \"redux\";\r\nimport { ResponseType } from \"./../api/todolistsAPI\";\r\n\r\n// generic function\r\nexport const handleServerAppError = <T>(\r\n  data: ResponseType<T>,\r\n  dispatch: ErrorUtilsDispatchType\r\n) => {\r\n  if (data.messages.length) {\r\n    dispatch(setAppErrorAC(data.messages[0]));\r\n  } else {\r\n    dispatch(setAppErrorAC(\"Some error occurred\"));\r\n  }\r\n  dispatch(setAppStatusAC(\"failed\"));\r\n};\r\n\r\nexport const handleServerNetworkError = (\r\n  error: { message: string },\r\n  dispatch: ErrorUtilsDispatchType\r\n) => {\r\n  dispatch(setAppErrorAC(error.message));\r\n  dispatch(setAppStatusAC(\"failed\"));\r\n};\r\n\r\ntype ErrorUtilsDispatchType = Dispatch<\r\n  SetAppErrorActionType | SetAppStatusActionType\r\n>;\r\n","import { Dispatch } from \"redux\";\r\nimport { authAPI, LoginParamsType } from \"../../../api/todolistsAPI\";\r\nimport { ThunkType } from \"../../../App/store\";\r\nimport {\r\n  handleServerAppError,\r\n  handleServerNetworkError,\r\n} from \"../../../utils/errorUtils\";\r\nimport {\r\n  SetAppErrorActionType,\r\n  setAppStatusAC,\r\n  SetAppStatusActionType,\r\n} from \"./../../../App/appReducer\";\r\n\r\nconst initialState = {\r\n  isLoggedIn: false,\r\n};\r\ntype InitialStateType = typeof initialState;\r\n\r\nexport const authReducer = (\r\n  state: InitialStateType = initialState,\r\n  action: AuthActionsType\r\n): InitialStateType => {\r\n  switch (action.type) {\r\n    case \"login/SET-IS-LOGGED-IN\":\r\n      return { ...state, isLoggedIn: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Actions\r\nexport const setIsLoggedInAC = (value: boolean) =>\r\n  ({ type: \"login/SET-IS-LOGGED-IN\", value } as const);\r\n\r\n// Thunks\r\nexport const loginThunk = (data: LoginParamsType): ThunkType => (dispatch) => {\r\n  dispatch(setAppStatusAC(\"loading\"));\r\n  authAPI\r\n    .login(data)\r\n    .then((res) => {\r\n      if (res.data.resultCode === 0) {\r\n        dispatch(setIsLoggedInAC(true));\r\n        dispatch(setAppStatusAC(\"succeeded\"));\r\n      } else {\r\n        handleServerAppError(res.data, dispatch);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\nexport const logoutThunk = (): ThunkType => (dispatch) => {\r\n  dispatch(setAppStatusAC(\"loading\"));\r\n  authAPI\r\n    .logout()\r\n    .then((res) => {\r\n      if (res.data.resultCode === 0) {\r\n        dispatch(setIsLoggedInAC(false));\r\n        dispatch(setAppStatusAC(\"succeeded\"));\r\n      } else {\r\n        handleServerAppError(res.data, dispatch);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\n\r\n// Types\r\nexport type AuthActionsType =\r\n  | ReturnType<typeof setIsLoggedInAC>\r\n  | SetAppStatusActionType\r\n  | SetAppErrorActionType;\r\n","import { ActionTodolistsTypes, SetTodosType } from \"./todolistsReducer\";\r\nimport { TaskStateType } from \"./TodolistsList \";\r\nimport { TaskType, todolistsAPI, UpdateTaskType } from \"../../api/todolistsAPI\";\r\nimport { AppRootStateType, ThunkType } from \"../../App/store\";\r\nimport { RequestStatusType, setAppStatusAC } from \"../../App/appReducer\";\r\nimport {\r\n  handleServerAppError,\r\n  handleServerNetworkError,\r\n} from \"../../utils/errorUtils\";\r\n\r\nconst initialState: TaskStateType = {};\r\n\r\nexport const tasksReducer = (\r\n  state = initialState,\r\n  action: ActionTasksTypes\r\n): TaskStateType => {\r\n  switch (action.type) {\r\n    case \"SET_TASKS\": {\r\n      return {\r\n        ...state,\r\n        [action.payload.todolistId]: action.payload.tasks,\r\n      };\r\n    }\r\n    case \"SET_TODOLISTS\": {\r\n      let stateCopy = { ...state };\r\n      action.payload.todos.forEach((tl) => {\r\n        stateCopy[tl.id] = [];\r\n      });\r\n      return stateCopy;\r\n    }\r\n    case \"ADD_TASK\":\r\n      return {\r\n        ...state,\r\n        [action.payload.task.todoListId]: [\r\n          action.payload.task,\r\n          ...state[action.payload.task.todoListId],\r\n        ],\r\n      };\r\n    case \"REMOVE_TASK\":\r\n      return {\r\n        ...state,\r\n        [action.payload.todoListId]: state[action.payload.todoListId].filter(\r\n          (t) => t.id !== action.payload.taskId\r\n        ),\r\n      };\r\n    case \"TASK/CHANGE_ENTITY_STATUS\":\r\n      return {\r\n        ...state,\r\n        [action.payload.todolistId]: state[action.payload.todolistId].map((t) =>\r\n          t.id === action.payload.taskId\r\n            ? { ...t, entityStatus: action.payload.entityStatus }\r\n            : t\r\n        ),\r\n      };\r\n    case \"UPDATE_TASK\":\r\n      return {\r\n        ...state,\r\n        [action.payload.todolistId]: state[action.payload.todolistId].map((t) =>\r\n          t.id === action.payload.taskId ? { ...t, ...action.payload.model } : t\r\n        ),\r\n      };\r\n\r\n    case \"ADD_TODOLIST\":\r\n      return {\r\n        ...state,\r\n        [action.payload.todolist.id]: [],\r\n      };\r\n    case \"REMOVE_TODOLIST\":\r\n      const copy = { ...state };\r\n      delete copy[action.payload.todoListId];\r\n      return copy;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Action creators\r\nexport const addTaskAC = (task: TaskType) => {\r\n  return {\r\n    type: \"ADD_TASK\",\r\n    payload: {\r\n      task,\r\n    },\r\n  } as const;\r\n};\r\nexport const removeTaskAC = (taskId: string, todoListId: string) => {\r\n  return {\r\n    type: \"REMOVE_TASK\",\r\n    payload: {\r\n      todoListId,\r\n      taskId,\r\n    },\r\n  } as const;\r\n};\r\nexport const updateTaskAC = (\r\n  taskId: string,\r\n  model: UpdateTaskModelType,\r\n  todolistId: string\r\n) => {\r\n  return {\r\n    type: \"UPDATE_TASK\",\r\n    payload: {\r\n      todolistId,\r\n      taskId,\r\n      model,\r\n    },\r\n  } as const;\r\n};\r\nexport const setTasksAC = (tasks: TaskType[], todolistId: string) => {\r\n  return {\r\n    type: \"SET_TASKS\",\r\n    payload: {\r\n      tasks,\r\n      todolistId,\r\n    },\r\n  } as const;\r\n};\r\nexport const chandeTaskEntityStatusAC = (\r\n  taskId: string,\r\n  todolistId: string,\r\n  entityStatus: RequestStatusType\r\n) => {\r\n  return {\r\n    type: \"TASK/CHANGE_ENTITY_STATUS\",\r\n    payload: {\r\n      taskId,\r\n      todolistId,\r\n      entityStatus,\r\n    },\r\n  } as const;\r\n};\r\n// Thunks\r\nexport const fetchTasksThunk = (todolistId: string): ThunkType => (\r\n  dispatch\r\n) => {\r\n  dispatch(setAppStatusAC(\"loading\"));\r\n  todolistsAPI.getTasks(todolistId).then((res) => {\r\n    dispatch(setAppStatusAC(\"succeeded\"));\r\n    const tasks = res.data.items;\r\n    dispatch(setTasksAC(tasks, todolistId));\r\n  });\r\n};\r\n\r\nexport const removeTaskThunk = (\r\n  taskId: string,\r\n  todolistId: string\r\n): ThunkType => (dispatch) => {\r\n  dispatch(setAppStatusAC(\"loading\"));\r\n  dispatch(chandeTaskEntityStatusAC(taskId, todolistId, \"loading\"));\r\n  todolistsAPI\r\n    .deleteTask(todolistId, taskId)\r\n    .then((res) => {\r\n      if (res.data.resultCode == 0) {\r\n        dispatch(setAppStatusAC(\"succeeded\"));\r\n        dispatch(removeTaskAC(taskId, todolistId));\r\n      } else {\r\n        handleServerAppError(res.data, dispatch);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\n\r\nexport const addTaskThunk = (todolistId: string, title: string): ThunkType => (\r\n  dispatch\r\n) => {\r\n  dispatch(setAppStatusAC(\"loading\"));\r\n  todolistsAPI\r\n    .postTask(todolistId, title)\r\n    .then((res) => {\r\n      if (res.data.resultCode === 0) {\r\n        const task = res.data.data.item;\r\n        dispatch(addTaskAC(task));\r\n        dispatch(setAppStatusAC(\"succeeded\"));\r\n      } else {\r\n        handleServerAppError(res.data, dispatch);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\n\r\nexport const updateTaskThunk = (\r\n  taskId: string,\r\n  model: UpdateTaskModelType,\r\n  todolistId: string\r\n): ThunkType => (dispatch, getState: () => AppRootStateType) => {\r\n  const allTasksFromState = getState().tasks;\r\n  const tasksForCurrentTodolist = allTasksFromState[todolistId];\r\n  const task = tasksForCurrentTodolist.find((t) => {\r\n    return t.id === taskId;\r\n  });\r\n  if (!task) {\r\n    return;\r\n  }\r\n  const apiModel: UpdateTaskType = {\r\n    title: task.title,\r\n    startDate: task.startDate,\r\n    priority: task.priority,\r\n    description: task.description,\r\n    deadline: task.deadline,\r\n    status: task.status,\r\n    ...model,\r\n  };\r\n  todolistsAPI\r\n    .updateTask(todolistId, taskId, apiModel)\r\n    .then((res) => {\r\n      if (res.data.resultCode == 0) {\r\n        dispatch(updateTaskAC(taskId, model, todolistId));\r\n      } else {\r\n        handleServerAppError(res.data, dispatch);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\n\r\n// Types\r\nexport type ActionTasksTypes =\r\n  | ReturnType<typeof addTaskAC>\r\n  | ReturnType<typeof removeTaskAC>\r\n  | ActionTodolistsTypes\r\n  | SetTodosType\r\n  | ReturnType<typeof setTasksAC>\r\n  | ReturnType<typeof updateTaskAC>\r\n  | ReturnType<typeof chandeTaskEntityStatusAC>;\r\n\r\ntype UpdateTaskModelType = {\r\n  description?: string;\r\n  title?: string;\r\n  status?: number;\r\n  priority?: number;\r\n  startDate?: string;\r\n  deadline?: string;\r\n};\r\n","import { todolistsAPI, TodolistType } from \"./../../api/todolistsAPI\";\r\nimport { v1 } from \"uuid\";\r\nimport { ThunkType } from \"../../App/store\";\r\nimport {\r\n  RequestStatusType,\r\n  setAppErrorAC,\r\n  setAppStatusAC,\r\n} from \"../../App/appReducer\";\r\nimport {\r\n  handleServerAppError,\r\n  handleServerNetworkError,\r\n} from \"../../utils/errorUtils\";\r\n\r\n// For tests\r\nexport const todoListId_1 = v1();\r\nexport const todoListId_2 = v1();\r\n\r\nconst initialState: TodoListEntityType[] = [];\r\n\r\nexport const todolistsReducer = (\r\n  state = initialState,\r\n  action: ActionTodolistsTypes\r\n): TodoListEntityType[] => {\r\n  switch (action.type) {\r\n    case \"CHANGE_FILTER\":\r\n      return state.map((tl) =>\r\n        tl.id === action.payload.todolistId\r\n          ? { ...tl, filter: action.payload.value }\r\n          : tl\r\n      );\r\n    case \"REMOVE_TODOLIST\":\r\n      return state.filter((tl) => tl.id !== action.payload.todoListId);\r\n    case \"ADD_TODOLIST\":\r\n      return [\r\n        {\r\n          ...action.payload.todolist,\r\n          filter: \"All\",\r\n          entityStatus: \"idle\",\r\n        },\r\n        ...state,\r\n      ];\r\n    case \"UPDATE_TODOLIST_TITLE\":\r\n      return state.map((tl) =>\r\n        tl.id === action.payload.todolistId\r\n          ? { ...tl, title: action.payload.title }\r\n          : tl\r\n      );\r\n    case \"SET_TODOLISTS\":\r\n      return action.payload.todos.map((tl) => {\r\n        return { ...tl, filter: \"All\", entityStatus: \"idle\" };\r\n      });\r\n    case \"TODOLIST/CHANGE_ENTITY_STATUS\":\r\n      return state.map((tl) =>\r\n        tl.id === action.payload.id\r\n          ? { ...tl, entityStatus: action.payload.entityStatus }\r\n          : tl\r\n      );\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Action creators\r\nexport const addTodolistAC = (todolist: TodolistType) => {\r\n  return {\r\n    type: \"ADD_TODOLIST\",\r\n    payload: {\r\n      todolist,\r\n    },\r\n  } as const;\r\n};\r\nexport const removeTodolistAC = (todoListId: string) => {\r\n  return {\r\n    type: \"REMOVE_TODOLIST\",\r\n    payload: {\r\n      todoListId,\r\n    },\r\n  } as const;\r\n};\r\nexport const changeFilterAC = (value: FilterValuesType, todolistId: string) => {\r\n  return {\r\n    type: \"CHANGE_FILTER\",\r\n    payload: {\r\n      value,\r\n      todolistId,\r\n    },\r\n  } as const;\r\n};\r\nexport const updateTodolistTitleAC = (todolistId: string, title: string) => {\r\n  return {\r\n    type: \"UPDATE_TODOLIST_TITLE\",\r\n    payload: {\r\n      todolistId,\r\n      title,\r\n    },\r\n  } as const;\r\n};\r\nexport const setTodolistsAC = (todos: TodolistType[]) => {\r\n  return {\r\n    type: \"SET_TODOLISTS\",\r\n    payload: {\r\n      todos,\r\n    },\r\n  } as const;\r\n};\r\nexport const chandeTodolistEntityStatusAC = (\r\n  id: string,\r\n  entityStatus: RequestStatusType\r\n) => {\r\n  return {\r\n    type: \"TODOLIST/CHANGE_ENTITY_STATUS\",\r\n    payload: {\r\n      id,\r\n      entityStatus,\r\n    },\r\n  } as const;\r\n};\r\n\r\n// Thunks\r\n\r\nexport const fetchTodolistsThunk = (): ThunkType => (dispatch) => {\r\n  dispatch(setAppStatusAC(\"loading\"));\r\n  todolistsAPI\r\n    .getTodolists()\r\n    .then((res) => {\r\n      dispatch(setAppStatusAC(\"succeeded\"));\r\n      dispatch(setTodolistsAC(res.data));\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\n\r\nexport const removeTodolistThunk = (todolistId: string): ThunkType => (\r\n  dispatch\r\n) => {\r\n  dispatch(setAppStatusAC(\"loading\"));\r\n  dispatch(chandeTodolistEntityStatusAC(todolistId, \"loading\"));\r\n  todolistsAPI\r\n    .deleteTodolist(todolistId)\r\n    .then((res) => {\r\n      if (res.data.resultCode === 0) {\r\n        dispatch(setAppStatusAC(\"succeeded\"));\r\n        dispatch(removeTodolistAC(todolistId));\r\n      } else {\r\n        handleServerAppError(res.data, dispatch);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\n\r\nexport const addTodolistsThunk = (title: string): ThunkType => (dispatch) => {\r\n  dispatch(setAppStatusAC(\"loading\"));\r\n  todolistsAPI\r\n    .postTodolist(title)\r\n    .then((res) => {\r\n      if (res.data.resultCode == 0) {\r\n        dispatch(addTodolistAC(res.data.data.item));\r\n        dispatch(setAppStatusAC(\"succeeded\"));\r\n      } else {\r\n        handleServerAppError(res.data, dispatch);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\n\r\nexport const updateTodolistTitleThunk = (\r\n  todolistId: string,\r\n  title: string\r\n): ThunkType => (dispatch) => {\r\n  todolistsAPI\r\n    .updateTodolist(todolistId, title)\r\n    .then((res) => {\r\n      if (res.data.resultCode == 0) {\r\n        dispatch(updateTodolistTitleAC(todolistId, title));\r\n      } else {\r\n        handleServerAppError(res.data, dispatch);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      handleServerNetworkError(error, dispatch);\r\n    });\r\n};\r\n\r\n// Types\r\nexport type ActionTodolistsTypes =\r\n  | ReturnType<typeof addTodolistAC>\r\n  | ReturnType<typeof removeTodolistAC>\r\n  | ReturnType<typeof changeFilterAC>\r\n  | ReturnType<typeof updateTodolistTitleAC>\r\n  | ReturnType<typeof setTodolistsAC>\r\n  | ReturnType<typeof chandeTodolistEntityStatusAC>;\r\n\r\nexport type SetTodosType = ReturnType<typeof setTodolistsAC>;\r\nexport type TodoListEntityType = TodolistType & {\r\n  filter: FilterValuesType;\r\n  entityStatus: RequestStatusType;\r\n};\r\nexport type FilterValuesType = \"All\" | \"Completed\" | \"Active\";\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunk, { ThunkAction } from \"redux-thunk\";\r\nimport {\r\n  AuthActionsType,\r\n  authReducer,\r\n} from \"../Features/Todolists/Login/authReducer\";\r\nimport {\r\n  ActionTasksTypes,\r\n  tasksReducer,\r\n} from \"../Features/Todolists/tasksReducer\";\r\nimport {\r\n  ActionTodolistsTypes,\r\n  todolistsReducer,\r\n} from \"../Features/Todolists/todolistsReducer\";\r\nimport { ActionAppTypes, appReducer } from \"./appReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  tasks: tasksReducer,\r\n  todolists: todolistsReducer,\r\n  app: appReducer,\r\n  auth: authReducer,\r\n});\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>;\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\r\nexport type ThunkType = ThunkAction<\r\n  void,\r\n  AppRootStateType,\r\n  unknown,\r\n  AppActionsType\r\n>;\r\n// All action types\r\nexport type AppActionsType =\r\n  | ActionTasksTypes\r\n  | ActionTodolistsTypes\r\n  | ActionAppTypes\r\n  | AuthActionsType;\r\n// @ts-ignore\r\nwindow.store = store;\r\n","import React, { ChangeEvent, KeyboardEvent } from \"react\";\r\nimport { useState } from \"react\";\r\nimport styles from \"./AddItem.module.scss\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport { AddBox } from \"@material-ui/icons\";\r\n\r\ntype PropsType = {\r\n  callback: (title: string) => void;\r\n  disabled?: boolean;\r\n};\r\nexport const AddItem: React.FC<PropsType> = React.memo(\r\n  ({ callback, disabled }) => {\r\n    const [newTaskTitle, setNewTaskTitle] = useState<string>(\"\");\r\n    const [error, setError] = useState<boolean>(false);\r\n\r\n    const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n      setNewTaskTitle(e.currentTarget.value);\r\n      setError(false);\r\n    };\r\n\r\n    const onClickHandler = () => {\r\n      if (newTaskTitle.trim() !== \"\") {\r\n        callback(newTaskTitle.trim());\r\n        setNewTaskTitle(\"\");\r\n      } else {\r\n        setError(true);\r\n      }\r\n    };\r\n\r\n    const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n      if (error) {\r\n        setError(false);\r\n      }\r\n\r\n      if (e.key === \"Enter\") {\r\n        onClickHandler();\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className={styles.wrapper}>\r\n        <TextField\r\n          className={styles.textField}\r\n          variant=\"outlined\"\r\n          error={error}\r\n          value={newTaskTitle}\r\n          onChange={onChangeHandler}\r\n          onKeyPress={onKeyPressHandler}\r\n          label=\"Title\"\r\n          helperText={error}\r\n          disabled={disabled}\r\n        />\r\n        <IconButton\r\n          color=\"primary\"\r\n          className={styles.btnAdd}\r\n          onClick={onClickHandler}\r\n          disabled={disabled}\r\n        >\r\n          <AddBox />\r\n        </IconButton>\r\n        {error && (\r\n          <span className={error ? styles.errorMessage : \"\"}>\r\n            \"Title is required!\"\r\n          </span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n// import {\r\n//   Box,\r\n//   Button,\r\n//   FormControl,\r\n//   IconButton,\r\n//   TextField,\r\n// } from \"@material-ui/core\";\r\n// import { AddBox } from \"@material-ui/icons\";\r\n\r\n// type AddItemFormPropsType = {\r\n//   addItem: (title: string) => void;\r\n// };\r\n\r\n// export const AddItemForm = React.memo(function (props: AddItemFormPropsType) {\r\n//   console.log(\"AddItemForm called\");\r\n\r\n//   let [title, setTitle] = useState(\"\");\r\n//   let [error, setError] = useState<string | null>(null);\r\n\r\n//   const addItem = () => {\r\n//     if (title.trim() !== \"\") {\r\n//       props.addItem(title);\r\n//       setTitle(\"\");\r\n//     } else {\r\n//       setError(\"Title is required\");\r\n//     }\r\n//   };\r\n\r\n//   const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n//     setTitle(e.currentTarget.value);\r\n//   };\r\n\r\n//   const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n//     if (error !== null) {\r\n//       setError(null);\r\n//     }\r\n//     if (e.charCode === 13) {\r\n//       addItem();\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <TextField\r\n//         variant=\"outlined\"\r\n//         error={!!error}\r\n//         value={title}\r\n//         onChange={onChangeHandler}\r\n//         onKeyPress={onKeyPressHandler}\r\n//         label=\"Title\"\r\n//         helperText={error}\r\n//       />\r\n//       <IconButton color=\"primary\" onClick={addItem}>\r\n//         <AddBox />\r\n//       </IconButton>\r\n//     </div>\r\n//   );\r\n// });\r\n","import React, { useState, ChangeEvent, KeyboardEvent } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport styles from \"./EditableSpan.module.scss\";\r\n\r\ntype PropsType = {\r\n  title: string;\r\n  changeTaskTitle: (title: string) => void;\r\n  className?: string;\r\n  disabled?: boolean;\r\n};\r\n\r\nexport const EditableSpan: React.FC<PropsType> = React.memo(\r\n  ({ title, changeTaskTitle, className, disabled }) => {\r\n    const [editMode, setEditMode] = useState<boolean>(false);\r\n    const [value, setValue] = useState<string>(title);\r\n\r\n    const onEditMode = () => {\r\n      setEditMode(true);\r\n    };\r\n\r\n    const offEditMode = () => {\r\n      setEditMode(false);\r\n    };\r\n\r\n    const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n      const newValue = e.currentTarget.value;\r\n      if (value) {\r\n        changeTaskTitle(newValue);\r\n      }\r\n      setValue(newValue);\r\n    };\r\n    const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n      if (e.key === \"Enter\") {\r\n        setEditMode(false);\r\n      }\r\n    };\r\n\r\n    return editMode ? (\r\n      <TextField\r\n        className={styles.input}\r\n        autoFocus\r\n        onChange={onChangeHandler}\r\n        onBlur={offEditMode}\r\n        value={value}\r\n        onKeyPress={onKeyPressHandler}\r\n        disabled={disabled}\r\n      />\r\n    ) : (\r\n      <span className={className} onDoubleClick={onEditMode}>\r\n        {title}\r\n      </span>\r\n    );\r\n  }\r\n);\r\n","import React, { ChangeEvent, useCallback } from \"react\";\r\nimport { EditableSpan } from \"../../../../Components/EditableSpan/EditableSpan\";\r\nimport styles from \"./Task.module.scss\";\r\nimport { TaskStatuses, TaskType } from \"../../../../api/todolistsAPI\";\r\nimport Checkbox from \"@material-ui/core/Checkbox/Checkbox\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport { Delete } from \"@material-ui/icons\";\r\nimport { RequestStatusType } from \"../../../../App/appReducer\";\r\n\r\ntype TaskPropsType = {\r\n  changeTaskTitle: (taskId: string, title: string, todoListId: string) => void;\r\n  removeTask: (id: string, todoListId: string) => void;\r\n  checkboxChange: (\r\n    taskId: string,\r\n    status: TaskStatuses,\r\n    todoListId: string\r\n  ) => void;\r\n  task: TaskType;\r\n  todolistId: string;\r\n  entityStatus: RequestStatusType;\r\n};\r\n\r\nexport const Task: React.FC<TaskPropsType> = React.memo((props) => {\r\n  const {\r\n    removeTask,\r\n    checkboxChange,\r\n    changeTaskTitle,\r\n    task,\r\n    todolistId,\r\n    entityStatus,\r\n  } = props;\r\n\r\n  const onRemoveHandler = () => {\r\n    removeTask(task.id, todolistId);\r\n  };\r\n\r\n  const onCheckboxChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n    checkboxChange(\r\n      task.id,\r\n      e.currentTarget.checked ? TaskStatuses.Completed : TaskStatuses.New,\r\n      todolistId\r\n    );\r\n  };\r\n\r\n  const changeTaskTitleHandler = useCallback(\r\n    (title: string) => {\r\n      changeTaskTitle(task.id, title, todolistId);\r\n    },\r\n    [changeTaskTitle, task.id, todolistId]\r\n  );\r\n  return (\r\n    <li className={task.status === TaskStatuses.Completed ? styles.isDone : \"\"}>\r\n      <div className={styles.wrapper}>\r\n        <Checkbox\r\n          checked={task.status === TaskStatuses.Completed}\r\n          onChange={onCheckboxChangeHandler}\r\n        />\r\n\r\n        <EditableSpan\r\n          className={styles.span}\r\n          changeTaskTitle={changeTaskTitleHandler}\r\n          title={task.title}\r\n          disabled={entityStatus === \"loading\"}\r\n        />\r\n\r\n        <IconButton className={styles.trash} onClick={onRemoveHandler}>\r\n          <Delete />\r\n        </IconButton>\r\n      </div>\r\n    </li>\r\n  );\r\n});\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { AddItem } from \"../../../Components/AddItem/AddItem\";\r\nimport styles from \"./Todolist.module.scss\";\r\nimport { EditableSpan } from \"../../../Components/EditableSpan/EditableSpan\";\r\nimport { Task } from \"./Task/Task\";\r\nimport { TaskStatuses, TaskType } from \"../../../api/todolistsAPI\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { FilterValuesType } from \"../todolistsReducer\";\r\nimport { fetchTasksThunk } from \"../tasksReducer\";\r\nimport { RequestStatusType } from \"../../../App/appReducer\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\ntype PropsType = {\r\n  title: string;\r\n  tasks: Array<TaskType>;\r\n  removeTask: (id: string, todoListId: string) => void;\r\n  changeFilter: (value: FilterValuesType, todoListId: string) => void;\r\n  addTask: (title: string, todoListId: string) => void;\r\n  checkboxChange: (\r\n    taskId: string,\r\n    status: TaskStatuses,\r\n    todoListId: string\r\n  ) => void;\r\n  filter: FilterValuesType;\r\n  id: string;\r\n  removeTodoList: (todoListId: string) => void;\r\n  changeTaskTitle: (taskId: string, title: string, todoListId: string) => void;\r\n  changeTodoListTitle: (todoListId: string, title: string) => void;\r\n  entityStatus: RequestStatusType;\r\n};\r\n\r\nexport const Todolist: React.FC<PropsType> = React.memo((props) => {\r\n  const {\r\n    title,\r\n    tasks,\r\n    removeTask,\r\n    changeFilter,\r\n    addTask,\r\n    checkboxChange,\r\n    filter,\r\n    id,\r\n    removeTodoList,\r\n    changeTaskTitle,\r\n    changeTodoListTitle,\r\n    entityStatus,\r\n  } = props;\r\n  const dispatch = useDispatch();\r\n  const onAllClickHandler = useCallback(() => changeFilter(\"All\", id), [\r\n    changeFilter,\r\n    id,\r\n  ]);\r\n\r\n  const onActiveClickHandler = useCallback(() => changeFilter(\"Active\", id), [\r\n    changeFilter,\r\n    id,\r\n  ]);\r\n\r\n  const onCompletedClickHandler = useCallback(\r\n    () => changeFilter(\"Completed\", id),\r\n    [changeFilter, id]\r\n  );\r\n\r\n  const onClickHandler = () => removeTodoList(id);\r\n\r\n  const addTaskItem = useCallback(\r\n    (title: string) => {\r\n      addTask(title, id);\r\n    },\r\n    [addTask, id]\r\n  );\r\n\r\n  const changeTodolistTitleHandler = useCallback(\r\n    (title: string) => {\r\n      changeTodoListTitle(id, title);\r\n    },\r\n    [changeTodoListTitle, id]\r\n  );\r\n\r\n  let tasksForTodoList = tasks;\r\n  if (filter === \"Completed\") {\r\n    tasksForTodoList = tasks.filter((t) => t.status === TaskStatuses.Completed);\r\n  }\r\n  if (filter === \"Active\") {\r\n    tasksForTodoList = tasks.filter((t) => t.status === TaskStatuses.New);\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchTasksThunk(id));\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <h3>\r\n        <EditableSpan\r\n          className={styles.span}\r\n          title={title}\r\n          changeTaskTitle={changeTodolistTitleHandler}\r\n          disabled={entityStatus === \"loading\"}\r\n        />\r\n      </h3>\r\n      <AddItem callback={addTaskItem} disabled={entityStatus === \"loading\"} />\r\n      <div>\r\n        {tasksForTodoList.map((t) => (\r\n          <Task\r\n            entityStatus={t.entityStatus}\r\n            changeTaskTitle={changeTaskTitle}\r\n            removeTask={removeTask}\r\n            checkboxChange={checkboxChange}\r\n            task={t}\r\n            todolistId={id}\r\n            key={t.id}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className={styles.btnsWrapper}>\r\n        <Button\r\n          className={styles.btn}\r\n          variant={filter === \"All\" ? \"contained\" : \"text\"}\r\n          onClick={onAllClickHandler}\r\n          color={\"secondary\"}\r\n        >\r\n          All\r\n        </Button>\r\n        <Button\r\n          className={styles.btn}\r\n          variant={filter === \"Active\" ? \"contained\" : \"text\"}\r\n          onClick={onActiveClickHandler}\r\n          color={\"secondary\"}\r\n        >\r\n          Active\r\n        </Button>\r\n        <Button\r\n          className={styles.btn}\r\n          variant={filter === \"Completed\" ? \"contained\" : \"text\"}\r\n          onClick={onCompletedClickHandler}\r\n          color={\"secondary\"}\r\n        >\r\n          Completed\r\n        </Button>\r\n        <Button\r\n          className={styles.deleteBtn}\r\n          disabled={entityStatus === \"loading\"}\r\n          onClick={onClickHandler}\r\n        >\r\n          Remove all\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import { Grid, Paper } from \"@material-ui/core\";\r\nimport React, { useCallback, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { TaskStatuses, TaskType } from \"../../api/todolistsAPI\";\r\nimport { AddItem } from \"../../Components/AddItem/AddItem\";\r\nimport { Todolist } from \"./Todolist/Todolist\";\r\nimport { AppRootStateType } from \"../../App/store\";\r\nimport { addTaskThunk, removeTaskThunk, updateTaskThunk } from \"./tasksReducer\";\r\nimport {\r\n  addTodolistsThunk,\r\n  changeFilterAC,\r\n  fetchTodolistsThunk,\r\n  FilterValuesType,\r\n  removeTodolistThunk,\r\n  TodoListEntityType,\r\n  updateTodolistTitleThunk,\r\n} from \"./todolistsReducer\";\r\nimport styles from \"./TodolistsList.module.scss\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport type TaskStateType = {\r\n  [key: string]: Array<TaskType>;\r\n};\r\nexport const TodolistsList = () => {\r\n  const dispatch = useDispatch();\r\n  const tasks = useSelector<AppRootStateType, TaskStateType>(\r\n    (state) => state.tasks\r\n  );\r\n  const todolists = useSelector<AppRootStateType, TodoListEntityType[]>(\r\n    (state) => state.todolists\r\n  );\r\n  const isLoggedIn = useSelector<AppRootStateType, boolean>(\r\n    (state) => state.auth.isLoggedIn\r\n  );\r\n  // TDlists functions\r\n  const changeFilter = useCallback(\r\n    (value: FilterValuesType, todoListId: string) => {\r\n      const action = changeFilterAC(value, todoListId);\r\n      dispatch(action);\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const removeTodoList = useCallback(\r\n    (todoListId: string) => {\r\n      dispatch(removeTodolistThunk(todoListId));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const addTodolist = useCallback(\r\n    (title: string) => {\r\n      dispatch(addTodolistsThunk(title));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isLoggedIn) {\r\n      return;\r\n    }\r\n    dispatch(fetchTodolistsThunk());\r\n  }, []);\r\n\r\n  const changeTodoListTitle = useCallback(\r\n    (todolistId: string, title: string) => {\r\n      dispatch(updateTodolistTitleThunk(todolistId, title));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  //Tasks functions\r\n\r\n  const addTask = useCallback(\r\n    (title: string, todoListId: string) => {\r\n      dispatch(addTaskThunk(todoListId, title));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const removeTask = useCallback(\r\n    (id: string, todoListId: string) => {\r\n      dispatch(removeTaskThunk(id, todoListId));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const checkboxChange = useCallback(\r\n    (taskId: string, status: TaskStatuses, todoListId: string) => {\r\n      dispatch(updateTaskThunk(taskId, { status }, todoListId));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const changeTaskTitle = useCallback(\r\n    (taskId: string, title: string, todoListId: string) => {\r\n      dispatch(updateTaskThunk(taskId, { title }, todoListId));\r\n    },\r\n    [dispatch]\r\n  );\r\n  if (!isLoggedIn) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n  return (\r\n    <>\r\n      <Grid container className={styles.addItem}>\r\n        <AddItem callback={addTodolist} />\r\n      </Grid>\r\n\r\n      <Grid container spacing={0}>\r\n        {todolists.map((tl) => {\r\n          let tasksForTodoList = tasks[tl.id];\r\n\r\n          return (\r\n            <Grid key={tl.id}>\r\n              <Paper\r\n                // style={{ padding: \"1rem\", backgroundColor: \"#9DDAC6\" }}\r\n                elevation={0}\r\n                variant=\"outlined\"\r\n                className={styles.paper}\r\n              >\r\n                <Todolist\r\n                  key={tl.id}\r\n                  entityStatus={tl.entityStatus}\r\n                  id={tl.id}\r\n                  filter={tl.filter}\r\n                  title={tl.title}\r\n                  tasks={tasksForTodoList}\r\n                  addTask={addTask}\r\n                  removeTask={removeTask}\r\n                  changeFilter={changeFilter}\r\n                  checkboxChange={checkboxChange}\r\n                  removeTodoList={removeTodoList}\r\n                  changeTaskTitle={changeTaskTitle}\r\n                  changeTodoListTitle={changeTodoListTitle}\r\n                />\r\n              </Paper>\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\n// Types\r\n","import React from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MuiAlert, { AlertProps } from \"@material-ui/lab/Alert\";\r\nimport { AppRootStateType } from \"../../App/store\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setAppErrorAC } from \"../../App/appReducer\";\r\nimport styles from \"./ErrorSnackbar.module.scss\";\r\n\r\nfunction Alert(props: AlertProps) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport function ErrorSnackbar() {\r\n  const error = useSelector<AppRootStateType, null | string>(\r\n    (state) => state.app.error\r\n  );\r\n  const dispatch = useDispatch();\r\n  const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    dispatch(setAppErrorAC(null));\r\n  };\r\n\r\n  return (\r\n    <Snackbar\r\n      open={error !== null}\r\n      autoHideDuration={6000}\r\n      onClose={handleClose}\r\n    >\r\n      <Alert className={styles.message} onClose={handleClose} severity=\"error\">\r\n        {error}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n}\r\n","import styles from \"./Login.module.scss\";\r\nimport { useFormik } from \"formik\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { loginThunk } from \"./authReducer\";\r\nimport { AppRootStateType } from \"../../../App/store\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nexport const Login = () => {\r\n  const dispatch = useDispatch();\r\n  const isLoggedIn = useSelector<AppRootStateType, boolean>(\r\n    (state) => state.auth.isLoggedIn\r\n  );\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n      rememberMe: false,\r\n    },\r\n    validate: (values) => {\r\n      const errors: FormikErrorType = {};\r\n      if (!values.email) {\r\n        errors.email = \"Required\";\r\n      } else if (\r\n        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)\r\n      ) {\r\n        errors.email = \"Invalid email address\";\r\n      }\r\n\r\n      if (!values.password) {\r\n        errors.password = \"Required\";\r\n      } else if (values.password.length <= 2) {\r\n        errors.password = \"Password must be at least 2 characters long\";\r\n      }\r\n      return errors;\r\n    },\r\n\r\n    onSubmit: (values) => {\r\n      formik.resetForm();\r\n      dispatch(loginThunk(values));\r\n    },\r\n  });\r\n\r\n  if (isLoggedIn) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return (\r\n    <Grid container justify=\"center\">\r\n      <Grid item xs={4}>\r\n        <form onSubmit={formik.handleSubmit} className={styles.form}>\r\n          <FormControl>\r\n            <FormLabel>\r\n              <p>\r\n                To log in get registered &nbsp;\r\n                <a\r\n                  href={\"https://social-network.samuraijs.com/\"}\r\n                  target={\"_blank\"}\r\n                >\r\n                  here\r\n                </a>\r\n              </p>\r\n              <p>or use common test account credentials:</p>\r\n              <p>Email: free@samuraijs.com</p>\r\n              <p>Password: free</p>\r\n            </FormLabel>\r\n            <FormGroup>\r\n              <TextField\r\n                label=\"Email\"\r\n                margin=\"normal\"\r\n                {...formik.getFieldProps(\"email\")}\r\n              />\r\n              {formik.touched.email && formik.errors.email ? (\r\n                <div style={{ color: \"red\" }}>{formik.errors.email}</div>\r\n              ) : null}\r\n              <TextField\r\n                type=\"password\"\r\n                label=\"Password\"\r\n                margin=\"normal\"\r\n                {...formik.getFieldProps(\"password\")}\r\n              />\r\n              {formik.touched.password && formik.errors.email ? (\r\n                <div style={{ color: \"red\" }}>{formik.errors.password}</div>\r\n              ) : null}\r\n              <FormControlLabel\r\n                label={\"Remember me\"}\r\n                control={\r\n                  <Checkbox\r\n                    onChange={formik.handleChange}\r\n                    name=\"rememberMe\"\r\n                    value={formik.values.rememberMe}\r\n                    onBlur={formik.handleBlur}\r\n                  />\r\n                }\r\n              />\r\n              <Button\r\n                type={\"submit\"}\r\n                className={styles.btn}\r\n                variant={\"contained\"}\r\n              >\r\n                Login\r\n              </Button>\r\n            </FormGroup>\r\n          </FormControl>\r\n        </form>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\n// Types\r\ntype FormikErrorType = {\r\n  email?: string;\r\n  password?: string;\r\n  rememberMe?: boolean;\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport styles from \"./App.module.scss\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { TodolistsList } from \"../Features/Todolists/TodolistsList \";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AppRootStateType } from \"./store\";\r\nimport { initializeAppThunk, RequestStatusType } from \"./appReducer\";\r\nimport { ErrorSnackbar } from \"../Components/ErrorSnackbar/ErrorSnackbar\";\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { Login } from \"../Features/Todolists/Login/Login\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { logoutThunk } from \"../Features/Todolists/Login/authReducer\";\r\n\r\nfunction App() {\r\n  const status = useSelector<AppRootStateType, RequestStatusType>(\r\n    (state) => state.app.status\r\n  );\r\n  const isInitialized = useSelector<AppRootStateType, boolean>(\r\n    (state) => state.app.isInitialized\r\n  );\r\n  const isLoggedIn = useSelector<AppRootStateType, boolean>(\r\n    (state) => state.auth.isLoggedIn\r\n  );\r\n  const dispatch = useDispatch();\r\n  const logoutHandler = () => {\r\n    dispatch(logoutThunk());\r\n  };\r\n  useEffect(() => {\r\n    dispatch(initializeAppThunk());\r\n  }, []);\r\n\r\n  if (!isInitialized) {\r\n    return (\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"30%\",\r\n          textAlign: \"center\",\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <BrowserRouter>\r\n        <AppBar position=\"static\">\r\n          <Toolbar className={styles.navbar}>\r\n            <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\">TodoShka</Typography>\r\n\r\n            {isLoggedIn && (\r\n              <Button onClick={logoutHandler} color=\"inherit\">\r\n                Log Out\r\n              </Button>\r\n            )}\r\n          </Toolbar>\r\n          {status === \"loading\" && (\r\n            <LinearProgress className={styles.progress} color=\"secondary\" />\r\n          )}\r\n        </AppBar>\r\n        <Container className={styles.container} maxWidth=\"xl\">\r\n          <Switch>\r\n            <Route exact path=\"/\" render={() => <TodolistsList />} />\r\n            <Route exact path=\"/login\" render={() => <Login />} />\r\n            <Route path={\"/404\"} render={() => <h1>404: PAGE NOT FOUND</h1>} />\r\n            <Redirect from=\"*\" to=\"/404\" />\r\n          </Switch>\r\n        </Container>\r\n        <ErrorSnackbar />\r\n      </BrowserRouter>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport { store } from \"./App/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./App/App\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Todolist_header__P1QI6\",\"btnsWrapper\":\"Todolist_btnsWrapper__s30fF\",\"deleteBtn\":\"Todolist_deleteBtn__GpHnW\",\"btn\":\"Todolist_btn__6WOk9\",\"span\":\"Todolist_span__1ql2_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorMessage\":\"AddItem_errorMessage__1R9-_\",\"textField\":\"AddItem_textField__VQDjl\",\"btnAdd\":\"AddItem_btnAdd__3nWMo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trash\":\"Task_trash__2YWpi\",\"wrapper\":\"Task_wrapper__1bcWt\",\"span\":\"Task_span__Q0klS\",\"isDone\":\"Task_isDone__3dO0E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"App_navbar__3XP-h\",\"container\":\"App_container__yxLVC\"};"],"sourceRoot":""}